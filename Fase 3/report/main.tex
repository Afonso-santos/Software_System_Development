%==========================================================================
% DOCUMENT
%==========================================================================

%% Document class
\documentclass[a4paper,12pt]{scrreprt}

%% Include packages
\input{packages.sty}

%% Include custom commands
\usepackage{commands}
\usepackage{hyperref}

\begin{document}

\pagenumbering{gobble}

%% Build cover
\include{cover}
\makecover

%% Build back cover
\include{back-cover}
\makebackcover

%% Default geometry
\newgeometry{top=2cm,left=3cm,right=3cm,bottom=3.5cm}

%% Save default geometry
\savegeometry{default}

%% Load default geometry with:
% \loadgeometry{default}

%==========================================================================
% BEGIN ABSTRACT PAGE
%==========================================================================

%% Abstract name: \Large font size, flushed left and paragraph skip before abstract content
% \renewenvironment{abstract}
%  {\par\noindent\textbf{\Large\abstractname}\par\bigskip}
%  {}
%
% \begin{flushleft}
% \begin{abstract}
%     Exemplo
%
%     \textbf{Área de Aplicação}: Exemplo
%
%     \textbf{Palavras-Chave}: Exemplo
%
% \end{abstract}
% \end{flushleft}
%
% \pagebreak

%==========================================================================
% END ABSTRACT PAGE
%==========================================================================

%==========================================================================
% BEGIN INDEXES PAGES
%==========================================================================

%% Changes table of content name
\renewcommand{\contentsname}{Índice}
\renewcommand{\listfigurename}{Índice de Figuras}
\renewcommand{\listtablename}{Índice de Tabelas}

\tableofcontents

\pagebreak

\listoffigures

\pagebreak

% \listoftables
%
% \pagebreak

%==========================================================================
% END INDEXES PAGES
%==========================================================================

%==========================================================================
% BEGIN ATUALIZAÇÔES REFERENTES À PRIMEIRA FASE
%==========================================================================

\chapter{Atualizações Referentes à Primeira Fase}
\vspace{1cm}

Relativamente à primeira fase do projeto, foram realizadas as seguintes atualizações:

\begin{itemize}
    \item \textbf{Modelo de Análise}: Adição dos relacionamentos entre Aluno e Horário, e
        entre Diretor de Curso e Horário.
    \item \textbf{Especificações de \textit{Use Cases}}: Renomeação do \textit{use case}
        “Instalar aplicação” para “Primeira configuração”, com a sua generalização para
        arquiteturas sem persistência de dados. Alteração dos termos “Aluno” e “Diretor de Curso”
        para “Utilizador” e “Ator”, de forma a generalizar os casos de uso.
    \item \textbf{Diagramas de \textit{Use Cases}}: Renomeação do \textit{use case}
        “Instalar aplicação” para “Primeira configuração”.
\end{itemize}

%==========================================================================
% END ATUALIZAÇÔES REFERENTES À PRIMEIRA FASE
%==========================================================================

%==========================================================================
% BEGIN ATUALIZAÇÔES REFERENTES À PRIMEIRA FASE
%==========================================================================

\chapter{Atualizações Referentes à Segunda Fase}
\vspace{1cm}

Relativamente à segunda fase do projeto, foram realizadas as seguintes atualizações:
Foram alterados os diagramas de classes, de forma a incluir os métodos que foram utilizados
no desenvolvimento do programa, bem como foram removidos aqueles que não foram utilizados.

Foram adicionados os diagramas de classes com DAOs, de forma a incluir a persistência de dados
no sistema.


%==========================================================================
% END ATUALIZAÇÔES REFERENTES À PRIMEIRA FASE
%==========================================================================

%==========================================================================
% BEGIN MODELO DE ANÁLISE
%==========================================================================

%% Starting page numbering here
\pagenumbering{arabic}

\chapter{Modelo de Análise}
\vspace{2cm}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1\textwidth]{images/modelo-analise.png}
    \captionof{figure}{Modelo de Análise}
    \label{fig:modelo_analise}
\end{minipage}

%==========================================================================
% END MODELO DE ANÁLISE
%==========================================================================

%==========================================================================
% BEGIN DIAGRAMAS DE CASOS DE USO
%==========================================================================

\chapter{Diagramas de Casos de Uso}
\vspace{1cm}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1\textwidth]{images/use-cases-diagrams/1-geral.png}
    \captionof{figure}{Diagrama de Casos de Uso - Geral}
    \label{fig:2-1-diagrama_de_casos_de_uso_geral}
\end{minipage}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1\textwidth]{images/use-cases-diagrams/2-gestao-alunos-cursos-ucs-turnos-salas.png}
    \captionof{figure}{Diagrama de Casos de Uso - Gestão de Alunos, Cursos, UCs, Turnos e Salas}
    \label{fig:2-2-diagrama_de_casos_de_uso_gestao_de_alunos_cursos_ucs_turnos_e_salas}
\end{minipage}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1\textwidth]{images/use-cases-diagrams/3-gestao-preferencias.png}
    \captionof{figure}{Diagrama de Casos de Uso - Gestão de Preferências para UCs}
    \label{fig:2-3-diagrama_de_casos_de_uso_gestao_de_preferencias}
\end{minipage}

\vspace{1cm}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1\textwidth]{images/use-cases-diagrams/4-alocacao-alunos.png}
    \captionof{figure}{Diagrama de Casos de Uso - Alocação de Alunos a Turnos}
    \label{fig:2-4-diagrama_de_casos_de_uso_alocacao_de_alunos}
\end{minipage}

%==========================================================================
% END DIAGRAMAS DE CASOS DE USO
%==========================================================================

%==========================================================================
% BEGIN ESPECIFICAÇÕES DE CASOS DE USO
%==========================================================================

\chapter{Especificações de Casos de Uso}
\vspace{1cm}


As especificações de casos de uso encontram-se no seguinte \textit{link}:
\href{https://docs.google.com/spreadsheets/d/1CX2vHfmeK1eUM9bUtrgUxrdumPSVTR17wG6DoLOfju8/edit?usp=sharing}{Especificações dos Casos de Uso}
, com as respetivas identificações das responsabilidades da lógica de negócio, definições da API e
subsistemas envolvidos.


%==========================================================================
% END ESPECIFICAÇÕES DE CASOS DE USO
%==========================================================================

%==========================================================================
% BEGIN DIAGRAMA DE COMPONENTES
%==========================================================================

\chapter{Diagrama de Componentes}
\vspace{0.5cm}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=.5\textwidth]{images/components-diagrams/1.png}
    \captionof{figure}{Diagrama de Componentes}
    \label{fig:4-1-diagrama_de_componentes}
\end{minipage}

\vspace{0.5cm}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=.95\textwidth]{images/components-diagrams/2.png}
    \captionof{figure}{Diagrama de Componentes com DAOs}
    \label{fig:4-2-diagrama_de_componentes_daos}
\end{minipage}

%==========================================================================
% END DIAGRAMA DE COMPONENTES
%==========================================================================

%==========================================================================
% BEGIN DIAGRAMA DE CLASSES
%==========================================================================

\chapter{Diagrama de Classes}

\section{Arquitetura Geral}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=0.7\textwidth]{images/class-diagrams/1-arquitetura-geral.png}
    \captionof{figure}{Arquitetura Geral}
    \label{fig:5-1-arquitetura_geral}
\end{minipage}

\section{Subsistema Autenticação (\textit{Authentication})}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=0.5\textwidth]{images/class-diagrams/2-authentication.png}
    \captionof{figure}{Subsistema Autenticação (\textit{Authentication})}
    \label{fig:5-2-subsistema_autenticacao}
\end{minipage}

\section{Subsistema Horários (\textit{Schedules})}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1.5\textwidth, angle=270]{images/class-diagrams/3-schedules.png}
    \captionof{figure}{Subsistema Horários (\textit{Schedules})}
    \label{fig:5-3-subsistema_horarios}
\end{minipage}

%==========================================================================
% END DIAGRAMA DE CLASSES
%==========================================================================

%==========================================================================
% BEGIN DIAGRAMA DE CLASSES - DAOs  
%==========================================================================

\chapter{Diagrama de Classes - DAOs}

Para a persistência de dados, foram utilizados \textit{Data Access Objects} (DAOs).
Estes objetos são responsáveis por interagir com a base de dados, realizando operações
de leitura, escrita, atualização e eliminação de dados.

\section{Arquitetura Geral com Persistência de Dados}

A Arquitetura Geral permanece inalterada, pois a persistência de dados é uma camada
adicional que não interfere com a lógica de negócio.

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=0.5\textwidth]{images/class-diagrams/1-arquitetura-geral.png}
    \captionof{figure}{Arquitetura Geral com Persistência de Dados}
    \label{fig:6-1-arquitetura_geral_com_persistencia_de_dados}
\end{minipage}

\section{Subsistema Autenticação (\textit{Authentication}) com Persistência de Dados}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=0.5\textwidth]{images/daos/2-authentication.png}
    \captionof{figure}{Subsistema Autenticação (\textit{Authentication}) com Persistência de Dados}
    \label{fig:6-2-subsistema_autenticacao_com_persistencia_de_dados}
\end{minipage}

\section{Subsistema Horários (\textit{Schedules}) com Persistência de Dados}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1.5\textwidth, angle=270]{images/daos/3 - schedule.png}
    \captionof{figure}{Subsistema Horários (\textit{Schedules}) com Persistência de Dados}
    \label{fig:6-3-subsistema_horarios_com_persistencia_de_dados}
\end{minipage}

%==========================================================================
% END DIAGRAMA DE CLASSES - DAOs
%==========================================================================

%==========================================================================
% BEGIN DIAGRAMA DE PACOTES
%==========================================================================

\chapter{Diagrama de Pacotes}
\vspace{1cm}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1\textwidth]{images/packages-diagram.png}
    \captionof{figure}{Diagrama de Pacotes}
    \label{fig:7-1-diagrama_de_pacotes}
\end{minipage}

%==========================================================================
% END DIAGRAMA DE PACOTES
%==========================================================================

%==========================================================================
% BEGIN DIAGRAMAS DE SEQUÊNCIA
%==========================================================================

\chapter{Diagramas de Sequência}
\vspace{1cm}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1\textwidth]{images/sequence-diagrams/1-consultar-horario.png}
    \captionof{figure}{Diagrama de Sequência - Consultar Horário}
    \label{fig:8-1-diagrama_de_sequencia_consultar_horario}
\end{minipage}

\vspace{1cm}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1\textwidth]{images/sequence-diagrams/2-gerar-horarios.png}
    \captionof{figure}{Diagrama de Sequência - Gerar Horários}
    \label{fig:8-2-diagrama_de_sequencia_gerar_horarios}
\end{minipage}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1\textwidth]{images/sequence-diagrams/3-importar-alunos.png}
    \captionof{figure}{Diagrama de Sequência - Importar Alunos}
    \label{fig:8-3-diagrama_de_sequencia_importar_alunos}
\end{minipage}

%==========================================================================
% END DIAGRAMAS DE SEQUÊNCIA
%==========================================================================

%==========================================================================
% BEGIN BASE DE DADOS DO SISTEMA
%==========================================================================

\chapter{Base de Dados do Sistema}
\vspace{1cm}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=1\textwidth]{images/SchedulePlanner_db.png}
    \captionof{figure}{Base de Dados do Sistema}
    \label{fig:9-1-base_de_dados_do_sistema}
\end{minipage}


%==========================================================================
% END BASE DE DADOS DO SISTEMA
%==========================================================================

%==========================================================================
% BEGIN MANUAL DE UTILIZAÇÃO
%==========================================================================

\chapter{Manual de Utilização}

Primeiramente, é necessário a criação e povoamento da base de dados, através dos ficheiros \texttt{SchedulePlanner\_database\_create.sql}
e \texttt{SchedulePlanner\_database\_populate.sql}, respetivamente.

Para executar o programa, é necessário ter instalado o \texttt{.NET}.
Seguidamente, é necessário utilizar o comando \texttt{dotnet run} na diretoria \texttt{SchedulePlanner/}.
O utilizador terá de introduzir as suas credenciais de acesso, e poderá então aceder ao menu principal - caso seja o Diretor de Curso,
o seu menu será voltado para a gestão de turnos e alocação de alunos, enquanto que o menu do aluno será voltado para a consulta e exportação
de horários.

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=0.3\textwidth]{images/menu-dc.png}
    \captionof{figure}{Menu Principal do Diretor de Curso}
    \label{fig:10-1-menu_principal-dc}
\end{minipage}

\begin{minipage}{\textwidth}
    \centering
    \includegraphics[width=0.3\textwidth]{images/menu-aluno.png}
    \captionof{figure}{Menu Principal do Aluno}
    \label{fig:10-2-menu_principal-aluno}
\end{minipage}

Para a alocação de alunos a turnos, é necessário que o Diretor de Curso tenha previamente importado os alunos,
através do ficheiro \texttt{alunos.csv}, e os turnos, através do ficheiro \texttt{shifts.json}.



%==========================================================================
% END MANUAL DE UTILIZAÇÃO
%==========================================================================

%==========================================================================
% BEGIN CONSIDERAÇÕES PERTINENTES
%==========================================================================

\chapter{Considerações Pertinentes}
\vspace{1cm}

\section{Primeira Fase}

Ao longo dos casos de uso apresentados, foi utilizado o termo “seleção de alunos”.
Este termo refere-se a um conjunto de alunos que foram selecionados com base em critérios específicos,
como por exemplo, alunos de um determinado ano, unidade curricular, com estatuto, entre outros.

Esta generalização permite que os casos de uso sejam mais flexíveis
e possam ser aplicados a diferentes situações. Como por exemplo, a alocação de somente
um aluno, selecionado atráves do seu número, a um turno.

A seleção de alunos também permite ao Diretor de Curso a definição da ordem
a qual os alunos devem ser alocados a turnos.

\vspace{1cm}

Caso a monotorização de atividades, através de um sistema de \textit{logs}, fosse um requisito funcional,
desejado pela equipa docente, seria possível adicionar um caso de uso que permitisse a visualização
de \textit{logs} de atividade, como por exemplo, a data e hora de criação de um turno,
ou a data e hora de alocação de um aluno a um turno. Para tal, seria necessário
incorporar esta ação do sistema nos casos de uso, nos quais se justificaria registar tal ação.

\section{Terceira Fase}

Para o funcionamento correto do programa, recomenda-se a utilização da versão 8.0 do \texttt{.NET}.


%==========================================================================
% END CONSIDERAÇÕES PERTINENTES
%==========================================================================

%==========================================================================
% BEGIN BIBLIOGRAFIA
%==========================================================================

%% Changes biblibography name
%% Portuguese babel default : “Bibliografia”
%% Personally I prefer “Referências”
% \renewcommand\bibname{Referências}

%% https://www.overleaf.com/learn/latex/bibliography_management_with_bibtex
% \begin{thebibliography}{9}
% \bibitem{DatabaseSystems}
% Connolly, T., \& Begg, C. (2015). Database Systems: A Practical Approach to Design, Implementation, and Management (6th ed.). Pearson Education. London, UK.
%
% \bibitem{Aprendizagem em Banco de Dados}
% Cândido, C. H. (2005). Aprendizagem em Banco de Dados: Implementação de Ferramenta de Modelagem E.R. Monografia de Especialização. Universidade Federal de Santa Catarina, Brasil.
%
% \bibitem{MySQLManual}
% MySQL 8.0 Reference Manual (2024). \href{https://dev.mysql.com/doc/refman/8.0/en/storage-requirements.html}{\underline{MySQL 8.0 Reference Manual: Data Type Storage} \underline{Requirements}}. MySQL, Oracle.
% \end{thebibliography}

%% Add bibliografia to index
% \addcontentsline{toc}{chapter}{Bibliografia}

%==========================================================================
% END BIBLIOGRAFIA
%==========================================================================

\end{document}
